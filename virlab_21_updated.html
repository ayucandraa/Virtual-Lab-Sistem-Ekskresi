<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Virtual Lab: Sistem Ekskresi</title>
  <style>
    body {
      font-family: "Times New Roman", serif;
      background-color: #fdd7db;
      margin: 0;
      padding: 0;
      line-height: 1.5;
      color: #b30000;
      text-align: center;
    }

    h1 {
      color: #b30000;
    }

    .menu {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
      margin-top: 30px;
    }

    .bubble {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background-color: #ff4d4d;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      transition: transform 0.2s;
    }

    .bubble:hover {
      transform: scale(1.1);
    }

    .content {
      margin: 40px auto;
      width: 80%;
      background-color: #fff0f0;
      padding: 20px;
      border-radius: 10px;
      text-align: left;
      display: none;
    }

    .active {
      display: block;
    }

    .button-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 20px;
    }

    .sim-btn {
      background-color: #b30000;
      color: white;
      padding: 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
    }

    .sim-btn:hover {
      background-color: #ff6666;
    }

    .drag-zone, .drop-zone {
      display: flex;
      gap: 20px;
      margin: 20px 0;
      flex-wrap: wrap;
      justify-content: center;
    }

    .molecule, .drop-target {
      padding: 10px 15px;
      background-color: #ffd6d6;
      border: 2px dashed #b30000;
      border-radius: 10px;
      min-width: 100px;
      text-align: center;
      font-weight: bold;
      cursor: grab;
    }

    .drop-target {
      background-color: #fff5f5;
      min-height: 50px;
    }
  </style>
</head>
<body>
  <h1>🔬 Virtual Lab: Sistem Ekskresi Manusia 🔬</h1>

  <div class="menu">
    <div class="bubble" onclick="showContent('teori')">Teori</div>
    <div class="bubble" onclick="showContent('eksperimen')">Eksperimen</div>
    <div class="bubble" onclick="showContent('tes')">Tes & Evaluasi</div>
    <div class="bubble" onclick="showContent('galeri')">Galeri Urine</div>
    <div class="bubble" onclick="showContent('laporan')">Laporan</div>
    <div class="bubble" onclick="showContent('game')">Game</div>
  </div>

  <div id="teori" class="content">
    🌟 <b>Ekskresi: Pabrik Pembersih Tubuh Kita!</b><br>
    Bayangkan tubuhmu seperti sebuah kota besar yang sibuk...<br><br>
    🧠 <b>Apa Itu Sistem Ekskresi?</b><br>
    Ekskresi ialah proses pengeluaran zat sisa...<br><br>
    ✨ Ingat ya! Ekskresi beda dengan egesti...<br><br>
    🚰 <b>Organ-Organ Ekskresi:</b><br>
    1. Ginjal (Ren) – Sang Penyaring Darah...<br>
    2. Paru-Paru – Si Penghembus Karbon Dioksida...<br>
    3. Kulit – Lapisan Pelindung Multifungsi...<br>
    4. Hati – Laboratorium Kimia Tubuh...<br><br>
    🎲 <b>Mini Game:</b> Organ ekskresi manakah...<br>
    🕐 Jawab: Paru-paru!<br><br>
    💡 Tips Belajar: Buat mind map, ukur keringat...
  </div>

  
<div id="eksperimen" class="content">
  💻 <b>EKSPERIMEN VIRTUAL</b><br>
  Judul: Simulasi Proses Pembentukan Urine pada Sistem Ekskresi Manusia<br><br>

  <ol id="simulationSteps" style="text-align: left;">
    <li id="step1">🩸 <b>Darah Masuk</b>: Darah masuk ke ginjal melalui arteri ginjal dan menuju glomerulus.</li>
    <li id="step2">🧪 <b>Filtrasi</b>: Glomerulus menyaring darah dan menghasilkan filtrat glomerulus.</li>
    <li id="step3">💧 <b>Reabsorpsi</b>: Tubulus menyerap kembali zat penting seperti glukosa dan air.</li>
    <li id="step4">🚽 <b>Urine Terbentuk</b>: Zat sisa yang tidak diserap akan menjadi urine dan keluar menuju kandung kemih.</li>
  </ol>

  <br>
  <button class="sim-btn" onclick="runSimulation()">▶️ Jalankan Simulasi</button>
</div>

<div id="game" class="content">
  🎮 <b>GAME “Urine Adventure: Drag & Drop Game”</b><br><br>
  Seret molekul ke tahapan ekskresi yang sesuai!<br><br>

  <div class="drag-zone">
    <div class="molecule" draggable="true" ondragstart="drag(event)" id="glukosa">Glukosa</div>
    <div class="molecule" draggable="true" ondragstart="drag(event)" id="urea">Urea</div>
    <div class="molecule" draggable="true" ondragstart="drag(event)" id="air">Air</div>
    <div class="molecule" draggable="true" ondragstart="drag(event)" id="protein">Protein</div>
  </div>

  <div class="drop-zone">
    <div class="drop-target" ondrop="drop(event)" ondragover="allowDrop(event)" data-correct="glukosa,urea,air">Filtrasi</div>
    <div class="drop-target" ondrop="drop(event)" ondragover="allowDrop(event)" data-correct="glukosa,air">Reabsorpsi</div>
    <div class="drop-target" ondrop="drop(event)" ondragover="allowDrop(event)" data-correct="urea">Augmentasi</div>
    <div class="drop-target" ondrop="drop(event)" ondragover="allowDrop(event)" data-correct="protein">Diluar Filtrasi</div>
  </div>

  <br>
  <button class="sim-btn" onclick="checkGame()">✅ Periksa Jawaban</button>
  <button class="sim-btn" onclick="resetGame()">🔄 Ulangi</button>
  <div id="feedback" style="margin-top: 10px; font-weight: bold;"></div>
</div>

<script>
  function runSimulation() {
    const steps = ["step1", "step2", "step3", "step4"];
    let i = 0;
    const highlight = () => {
      if (i > 0) document.getElementById(steps[i - 1]).style.backgroundColor = "";
      if (i < steps.length) {
        const step = document.getElementById(steps[i]);
        step.style.backgroundColor = "#ffe6e6";
        i++;
        setTimeout(highlight, 1500);
      }
    };
    highlight();
  }

  function allowDrop(ev) {
    ev.preventDefault();
  }

  function drag(ev) {
    ev.dataTransfer.setData("text", ev.target.id);
  }

  function drop(ev) {
    ev.preventDefault();
    const data = ev.dataTransfer.getData("text");
    const dragged = document.getElementById(data);
    if (!ev.target.classList.contains("drop-target")) return;
    ev.target.appendChild(dragged);
  }

  function checkGame() {
    let score = 0;
    const zones = document.querySelectorAll(".drop-target");
    zones.forEach(zone => {
      const correctIds = zone.dataset.correct.split(",");
      const dropped = Array.from(zone.children).map(el => el.id);
      correctIds.forEach(id => {
        if (dropped.includes(id)) score++;
      });
    });
    const feedback = document.getElementById("feedback");
    if (score >= 6) {
      feedback.textContent = `🎉 Hebat! Kamu memahami proses ekskresi dengan baik. Skor: ${score}`;
      feedback.style.color = "#006400";
    } else {
      feedback.textContent = `💡 Coba lagi! Skor kamu: ${score}. Perhatikan kembali tahapan ekskresi.`;
      feedback.style.color = "#b30000";
    }
  }

  function resetGame() {
    const dragZone = document.querySelector(".drag-zone");
    const molecules = ["glukosa", "urea", "air", "protein"];
    molecules.forEach(id => {
      const el = document.getElementById(id);
      dragZone.appendChild(el);
    });
    document.getElementById("feedback").textContent = "";
  }
</script>

  function runSimulation() {
    const steps = ["step1", "step2", "step3", "step4"];
    let i = 0;
    const highlight = () => {
      if (i > 0) document.getElementById(steps[i - 1]).style.backgroundColor = "";
      if (i < steps.length) {
        const step = document.getElementById(steps[i]);
        step.style.backgroundColor = "#ffe6e6";
        i++;
        setTimeout(highlight, 1500);
      }
    };
    highlight();
  }

  function allowDrop(ev) {
    ev.preventDefault();
  }

  function drag(ev) {
    ev.dataTransfer.setData("text", ev.target.id);
  }

  function drop(ev) {
    ev.preventDefault();
    const data = ev.dataTransfer.getData("text");
    const dragged = document.getElementById(data);
    if (!ev.target.classList.contains("drop-target")) return;
    ev.target.appendChild(dragged);
  }

  function checkGame() {
    let score = 0;
    const zones = document.querySelectorAll(".drop-target");
    zones.forEach(zone => {
      const correctIds = zone.dataset.correct.split(",");
      const dropped = Array.from(zone.children).map(el => el.id);
      correctIds.forEach(id => {
        if (dropped.includes(id)) score++;
      });
    });
    const feedback = document.getElementById("feedback");
    if (score >= 6) {
      feedback.textContent = `🎉 Hebat! Kamu memahami proses ekskresi dengan baik. Skor: ${score}`;
      feedback.style.color = "#006400";
    } else {
      feedback.textContent = `💡 Coba lagi! Skor kamu: ${score}. Perhatikan kembali tahapan ekskresi.`;
      feedback.style.color = "#b30000";
    }
  }

  function resetGame() {
    const dragZone = document.querySelector(".drag-zone");
    const molecules = ["glukosa", "urea", "air", "protein"];
    molecules.forEach(id => {
      const el = document.getElementById(id);
      dragZone.appendChild(el);
    });
    document.getElementById("feedback").textContent = "";
  }
</script>
  </script>
</body>
</html>
